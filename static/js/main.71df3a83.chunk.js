(this["webpackJsonptravel-budget"]=this["webpackJsonptravel-budget"]||[]).push([[0],{36:function(e,t,a){e.exports=a(50)},49:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(28),l=a.n(r),s=a(4),u=a(6),o=a(51),m=a(52),i=a(14),b=a(15),d=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,{className:"mb-4 pt-5 pb-2 pl-3 pr-3 bg-blue fixed-top"},c.a.createElement(m.a,null,c.a.createElement("h2",{className:"font-weight-bold title-text d-inline"},c.a.createElement("img",{src:"/travel-budget/travel-budget-logo.svg",alt:"Travel Budget web app logo",className:"nav-brand"}))),c.a.createElement(m.a,{className:"text-right"},c.a.createElement(s.b,{to:"/settings"},c.a.createElement(i.a,{className:"fa-lg text-white mt-1",icon:b.d})))))},E=a(9),p=a(16),f=a(10),y=function(e,t){switch(t.type){case"DELETE_TRANSACTION":return Object(f.a)(Object(f.a)({},e),{},{transactions:e.transactions.filter((function(e){return e.id!==t.payload}))});case"DELETE_TRANSACTIONS":return Object(f.a)(Object(f.a)({},e),{},{transactions:e.transactions.filter((function(e){return e.id===t.payload}))});case"ADD_TRANSACTION":return Object(f.a)(Object(f.a)({},e),{},{transactions:[t.payload].concat(Object(p.a)(e.transactions))});case"ADD_CURRENCY":return Object(f.a)(Object(f.a)({},e),{},{currencys:[t.payload].concat(Object(p.a)(e.currencys))});case"CLEAR_CURRENCY":return Object(f.a)(Object(f.a)({},e),{},{currencys:e.currencys.filter((function(e){return e.id===t.payload}))});case"CLEAR_BUDGET":return Object(f.a)(Object(f.a)({},e),{},{budgets:e.budgets.filter((function(e){return e.id===t.payload}))});case"ADD_BUDGET":return Object(f.a)(Object(f.a)({},e),{},{budgets:[t.payload].concat(Object(p.a)(e.budgets))});default:return e}},N={transactions:[],budgets:[],currencys:[]},x=Object(n.createContext)(N),h=function(e){var t=e.children,a=Object(n.useReducer)(y,N),r=Object(E.a)(a,2),l=r[0],s=r[1];return c.a.createElement(x.Provider,{value:{transactions:l.transactions,deleteTransaction:function(e){s({type:"DELETE_TRANSACTION",payload:e})},deleteTransactions:function(e){s({type:"DELETE_TRANSACTIONS",payload:e})},addTransaction:function(e){s({type:"ADD_TRANSACTION",payload:e})},budgets:l.budgets,clearBudget:function(e){s({type:"CLEAR_BUDGET",payload:e})},addBudget:function(e){s({type:"ADD_BUDGET",payload:e})},currencys:l.currencys,clearCurrency:function(e){s({type:"CLEAR_CURRENCY",payload:e})},addCurrency:function(e){s({type:"ADD_CURRENCY",payload:e})}}},t)},C=a(55),g=a(56);function O(e){var t=e.selectedCurrency,a=e.onChangeAmount,n=e.amount;return c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{type:"number",className:"input",value:n,placeholder:"0.00",onChange:a}),c.a.createElement("span",{className:"d-inline"},t))}var j=function(e){var t,a,r=Object(u.e)(),l=Object(n.useState)(!0),i=Object(E.a)(l,2),b=i[0],d=i[1],p=Object(n.useState)(""),f=Object(E.a)(p,2),y=f[0],N=f[1],h=Object(n.useState)(),j=Object(E.a)(h,2),v=j[0],S=j[1];v?(a=y,t=y*b):(t=y,a=y/b),Object(n.useEffect)((function(){null!=k&&null!=A&&fetch("".concat("https://api.exchangeratesapi.io/latest","?base=").concat(k,"&symbols=").concat(A)).then((function(e){return e.json()})).then((function(e){return d(e.rates[A])}))}));var R=Object(n.useContext)(x).addBudget,D=Object(n.useContext)(x).currencys,T=Object(n.useContext)(x).budgets,F=Object(n.useContext)(x).clearBudget,A=D.map((function(e){return e.selectedCurrencyTo})),k=D.map((function(e){return e.selectedCurrencyFrom})),B=D.map((function(e){return e.toSymbol})),w=D.map((function(e){return e.fromSymbol})),P=t,K=A,U=a,H=k;return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,null,c.a.createElement(m.a,null,c.a.createElement(s.b,{to:"/"},c.a.createElement("p",{className:"d-block text-white sm-title-text"},"Back to Dashboard")))),isNaN(D)?c.a.createElement(o.a,null,c.a.createElement(m.a,null,c.a.createElement(C.a,null,c.a.createElement(C.a.Header,{className:"p-4"},c.a.createElement("h1",{className:"title-text"},"Set your trip budget")),c.a.createElement(C.a.Body,null,c.a.createElement("div",{className:"mb-3"},c.a.createElement("span",{className:"d-inline"},B),c.a.createElement(O,{className:"d-inline",selectedCurrency:A,onChangeAmount:function(e){N(e.target.value),S(!1)},amount:t})),c.a.createElement("div",null,c.a.createElement("span",{className:"d-inline"},w),c.a.createElement(O,{className:"d-inline",selectedCurrency:k,onChangeAmount:function(e){N(e.target.value),S(!0)},amount:a}))),c.a.createElement(C.a.Footer,null,c.a.createElement(g.a,{onClick:function(e){e.preventDefault();r.push("/"),F(T);var t={id:Math.floor(1e8*Math.random()),amountTo:+P,selectedCurrencyTo:K,toSymbol:B,fromSymbol:w,amountFrom:+U,selectedCurrencyFrom:H};R(t)},variant:"btn btn-outline-blue"},"Add"))))):c.a.createElement(o.a,null,c.a.createElement(m.a,null,c.a.createElement(C.a,{className:"p-5"},c.a.createElement("p",null,"Please set your currency preferences before setting a your budget."),c.a.createElement(s.b,{to:"/set-currency"},c.a.createElement("p",{className:"d-block text-secondary sm-title-text"},"Currency Preferences"))))))},v=function(){var e=Object(n.useContext)(x).budgets,t=Object(n.useContext)(x).transactions,a=Object(n.useContext)(x).currencys,r=t.map((function(e){return e.amountTo})),l=t.map((function(e){return e.amountFrom})),u=e.map((function(e){return e.amountTo})),i=e.map((function(e){return e.amountFrom})),b=a.map((function(e){return e.selectedCurrencyTo})),d=a.map((function(e){return e.selectedCurrencyFrom})),E=a.map((function(e){return e.toSymbol})),p=a.map((function(e){return e.fromSymbol})),f=u.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0).toFixed(2),y=i.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0).toFixed(2),N=r.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0).toFixed(2),h=l.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0).toFixed(2),g=(f-N).toFixed(2),O=(y-h).toFixed(2);return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,{className:"mb-5 text-center"},c.a.createElement(m.a,null,c.a.createElement("h4",{className:"sm-title-text mb-0 text-white"},"Remaining"),c.a.createElement("p",{className:"mb-0 lg-text text-white font-weight-bold"},E,g," ",b),c.a.createElement("p",{className:"title-text mb-0 text-light"},p,O," ",d),c.a.createElement("p",{className:"text-minus"},g<0?"You have gone over your budget.":""),isNaN(e)?"":c.a.createElement(s.b,{to:"set-budget",className:"text-white mb-3"},"Set Budget"))),c.a.createElement(o.a,{className:"mb-3"},c.a.createElement(m.a,{xs:{span:6,offset:0},md:{span:3,offset:0},className:"text-center"},c.a.createElement(C.a,{className:"p-3"},c.a.createElement("h4",{className:"sm-title-text mb-0"},"Budget"),c.a.createElement("p",{className:"title-text mb-0 text-plus font-weight-bold"},E,f," ",b," "),c.a.createElement("p",{className:"sm-title-text mb-0 text-light"},p,y," ",d))),c.a.createElement(m.a,{xs:{span:6,offset:0},md:{span:3,offset:6},className:"text-center"},c.a.createElement(C.a,{className:"p-3"},c.a.createElement("h4",{className:"sm-title-text mb-0"},"Spent"),c.a.createElement("p",{className:"title-text mb-0 text-minus font-weight-bold"},E,N," ",b," "),c.a.createElement("p",{className:"sm-title-text mb-0 text-light"},p,h," ",d)))))};function S(e){var t=e.selectedCurrency,a=e.onChangeAmount,n=e.amount;return c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{type:"number",className:"input",value:n,placeholder:"0.00",onChange:a}),c.a.createElement("span",{className:"d-inline"}," ",t))}var R=function(){var e,t,a=Object(u.e)(),r=Object(n.useState)(""),l=Object(E.a)(r,2),i=l[0],b=l[1],d=Object(n.useState)(!0),p=Object(E.a)(d,2),f=p[0],y=p[1],N=Object(n.useState)(""),h=Object(E.a)(N,2),O=h[0],j=h[1],v=Object(n.useState)(),R=Object(E.a)(v,2),D=R[0],T=R[1];D?(t=O,e=O*f):(e=O,t=O/f),Object(n.useEffect)((function(){null!=B&&null!=k&&fetch("".concat("https://api.exchangeratesapi.io/latest","?base=").concat(B,"&symbols=").concat(k)).then((function(e){return e.json()})).then((function(e){return y(e.rates[k])}))}));var F=Object(n.useContext)(x).addTransaction,A=Object(n.useContext)(x).currencys,k=A.map((function(e){return e.selectedCurrencyTo})),B=A.map((function(e){return e.selectedCurrencyFrom})),w=A.map((function(e){return e.toSymbol})),P=A.map((function(e){return e.fromSymbol})),K=e,U=k,H=t,I=B;return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,null,c.a.createElement(m.a,null,c.a.createElement(s.b,{to:"/"},c.a.createElement("p",{className:"d-block text-white sm-title-text"},"Back to Dashboard")))),isNaN(A)?c.a.createElement(o.a,null,c.a.createElement(m.a,null,c.a.createElement(C.a,null,c.a.createElement(C.a.Header,{className:"p-4"},c.a.createElement("h1",{className:"title-text"},"Add purchase")),c.a.createElement(C.a.Body,null,c.a.createElement("div",{className:"mb-3 d-inline-block"},c.a.createElement("label",{htmlFor:"text"},"Purchase Description: "),c.a.createElement("input",{type:"text",value:i,onChange:function(e){return b(e.target.value)},placeholder:"Enter item name..."})),c.a.createElement("div",{className:"mb-3"},c.a.createElement("span",{className:"d-inline"},w),c.a.createElement(S,{className:"d-inline",selectedCurrency:k,onChangeAmount:function(e){j(e.target.value),T(!1)},amount:e})),c.a.createElement("div",null,c.a.createElement("span",{className:"d-inline"},P),c.a.createElement(S,{className:"d-inline",selectedCurrency:B,onChangeAmount:function(e){j(e.target.value),T(!0)},amount:t}))),c.a.createElement(C.a.Footer,null,c.a.createElement(g.a,{onClick:function(e){if(""!==i){e.preventDefault();a.push("/")}else alert("Please enter purchase description.");var t={id:Math.floor(1e8*Math.random()),text:i,amountTo:+K,selectedCurrencyTo:U,toSymbol:w,fromSymbol:P,amountFrom:+H,selectedCurrencyFrom:I};""!==i&&F(t)},variant:"btn btn-outline-blue"},"Add"))))):c.a.createElement(o.a,null,c.a.createElement(m.a,null,c.a.createElement(C.a,{className:"p-5"},c.a.createElement("p",null,"Please set your currency preferences before adding your purchases."),c.a.createElement(s.b,{to:"/set-currency"},c.a.createElement("p",{className:"d-block text-secondary sm-title-text"},"Currency Preferences"))))))},D=a(54),T=function(e){var t=e.transaction,a=Object(n.useContext)(x).deleteTransaction,r=Math.abs(t.amountTo).toFixed(2),l=Math.abs(t.amountFrom).toFixed(2);return c.a.createElement(D.a.Item,{className:"shadow mb-2"},c.a.createElement(o.a,null,c.a.createElement(m.a,{xs:1,className:"text-left"},c.a.createElement(i.a,{className:"fa-lg text-blue",icon:b.c})),c.a.createElement(m.a,{xs:4,className:"text-left"},t.text),c.a.createElement(m.a,{xs:5,className:"text-left"},c.a.createElement("span",{className:"text-dark d-block"},t.toSymbol,r," ",t.selectedCurrencyTo),c.a.createElement("small",{className:"d-block"},t.fromSymbol,l," ",t.selectedCurrencyFrom)),c.a.createElement(m.a,{className:"text-right"},c.a.createElement(g.a,{className:"bg-transparent border-0 p-0",onClick:function(){return a(t.id)}},c.a.createElement(i.a,{className:"fa-lg text-minus",icon:b.e})))))},F=function(){var e=Object(n.useContext)(x).transactions;return c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{className:"p-3 mb-2 shadow"},c.a.createElement(o.a,null,c.a.createElement(m.a,null,c.a.createElement("h3",{className:"font-weight-bold title-text d-inline align-middle"},"Purchases")),c.a.createElement(m.a,{className:"text-right"},c.a.createElement(s.b,{to:"/add-transaction"},c.a.createElement(i.a,{className:"fa-2x text-blue bg-white rounded-circle align-middle",icon:b.a}))))),c.a.createElement(D.a,null,e<1?c.a.createElement("p",{className:"mt-3 text-center text-white"},"Purchases is Empty."):e.map((function(e){return c.a.createElement(T,{key:e.id,transaction:e})}))))},A=function(){var e=Object(u.e)(),t=Object(n.useContext)(x).clearBudget,a=Object(n.useContext)(x).budgets;return c.a.createElement(o.a,{className:"mb-3 text-center"},c.a.createElement(m.a,null,c.a.createElement(C.a,{className:"pt-5 pb-5"},c.a.createElement(s.b,{to:"/",className:"text-dark mb-3"},"Dashboard"),c.a.createElement(s.b,{to:"/set-currency",className:"text-dark mb-3"},"Currency Preferences"),c.a.createElement(s.b,{to:"set-budget",className:"text-dark mb-3"},"Set Budget"),c.a.createElement(g.a,{onClick:function(n){n.preventDefault();e.push("/"),t(a)},className:"text-dark bg-transparent border-0 p-0"},"Clear Budget"))))};function k(e){var t=e.currencyOptions,a=e.selectedCurrency,n=e.onChangeCurrency;return c.a.createElement("div",null,c.a.createElement("select",{className:"p-3",value:a,onChange:n},t.map((function(e){return c.a.createElement("option",{key:e,value:e},e)}))))}var B=function(){var e=Object(n.useContext)(x).currencys,t=Object(n.useContext)(x).clearCurrency,a=Object(n.useContext)(x).transactions,r=Object(n.useContext)(x).deleteTransactions,l=Object(u.e)(),i=Object(n.useState)([]),b=Object(E.a)(i,2),d=b[0],f=b[1],y=Object(n.useState)(),N=Object(E.a)(y,2),h=N[0],O=N[1],j=Object(n.useState)(),v=Object(E.a)(j,2),S=v[0],R=v[1];Object(n.useEffect)((function(){fetch("https://api.exchangeratesapi.io/latest").then((function(e){return e.json()})).then((function(e){var t=Object.keys(e.rates)[26],a=Object.keys(e.rates)[0];f([e.base].concat(Object(p.a)(Object.keys(e.rates)))),O(a),R(t)}))}),[]),Object(n.useEffect)((function(){null!=h&&null!=S&&fetch("".concat("https://api.exchangeratesapi.io/latest","?base=").concat(h,"&symbols=").concat(S)).then((function(e){return e.json()}))}),[h,S]);var D,T,F=Object(n.useContext)(x).addCurrency,A=S,B=h;return D="USD"===B||"CAD"===B||"AUD"===B||"NZD"===B||"MXN"===B||"SGD"===B||"HKD"===B?"$":"EUR"===B?"\u20ac":"JPY"===B||"CNY"===B?"\xa5":"GBP"===B?"\xa3":"CHF"===B?"CHF":"SEK"===B||"NOK"===B||"ISK"===B||"DKK"===B?"kr":"KRW"===B?"\u20a9":"TRY"===B?"\u20ba":"RUB"===B?"\u20bd":"INR"===B?"\u20b9":"BRL"===B?"R$":"ZAR"===B?"R":"PHP"===B?"\u20b1":"CZK"===B?"K\u010d":"IDR"===B?"Rp":"MYR"===B?"RM":"HUF"===B?"Ft":"HRK"===B?"kn":"BGN"===B?"\u043b\u0432":"RON"===B?"lei":"THB"===B?"\u0e3f":"PLN"===B?"z\u0142":"ILS"===B?"\u20aa":"none",T="USD"===A||"CAD"===A||"AUD"===A||"NZD"===A||"MXN"===A||"SGD"===A||"HKD"===A?"$":"EUR"===A?"\u20ac":"JPY"===A||"CNY"===A?"\xa5":"GBP"===A?"\xa3":"CHF"===A?"CHF":"SEK"===A||"NOK"===A||"ISK"===A||"DKK"===A?"kr":"KRW"===A?"\u20a9":"TRY"===A?"\u20ba":"RUB"===A?"\u20bd":"INR"===A?"\u20b9":"BRL"===A?"R$":"ZAR"===A?"R":"PHP"===A?"\u20b1":"CZK"===A?"K\u010d":"IDR"===A?"Rp":"MYR"===A?"RM":"HUF"===A?"Ft":"HRK"===A?"kn":"BGN"===A?"\u043b\u0432":"RON"===A?"lei":"THB"===A?"\u0e3f":"PLN"===A?"z\u0142":"ILS"===A?"\u20aa":"none",c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,null,c.a.createElement(m.a,null,c.a.createElement(s.b,{to:"/"},c.a.createElement("p",{className:"d-block text-white sm-title-text"},"Back to Dashboard")))),c.a.createElement(o.a,null,c.a.createElement(m.a,null,c.a.createElement(C.a,{className:"text-center"},c.a.createElement(C.a.Header,{className:"p-4"},c.a.createElement("h1",{className:"title-text"},"Set Currency Preferences for your trip")),c.a.createElement(C.a.Body,null,c.a.createElement("p",{className:""},"Select your usual currency:"),c.a.createElement(k,{currencyOptions:d,selectedCurrency:h,onChangeCurrency:function(e){return O(e.target.value)}}),c.a.createElement("p",{className:"mt-4"},"Select the currency of the country you are visiting:"),c.a.createElement(k,{currencyOptions:d,selectedCurrency:S,onChangeCurrency:function(e){return R(e.target.value)}})),c.a.createElement(C.a.Footer,null,c.a.createElement(g.a,{onClick:function(n){n.preventDefault();l.push("/"),t(e),r(a);var c={id:Math.floor(1e8*Math.random()),selectedCurrencyTo:A,selectedCurrencyFrom:B,toSymbol:T,fromSymbol:D};F(c)},variant:"btn btn-outline-blue"},"Set"))))))},w=function(){var e=Object(n.useContext)(x).transactions,t=Object(n.useContext)(x).deleteTransactions;return c.a.createElement(o.a,{className:"footer pt-3 bg-white fixed-bottom border-top"},c.a.createElement(m.a,{className:"text-right pr-5"},c.a.createElement(g.a,{className:"bg-transparent btn p-0 border-0",onClick:function(){return t(e)}},c.a.createElement(i.a,{className:"fa-md text-purple text-dark",icon:b.b}),c.a.createElement("p",{className:"d-block text-secondary sm-title-text"},"Clear All"))))},P=(a(48),a(53));a(49);var K=function(){return c.a.createElement(h,null,c.a.createElement(s.a,{basename:"/travel-budget"},c.a.createElement(P.a,{fluid:!0,className:"min-vh-100"},c.a.createElement(d,null),c.a.createElement(u.a,{path:"/set-budget",exact:!0,component:j}),c.a.createElement(u.a,{path:"/",exact:!0,component:v}),c.a.createElement(u.a,{path:"/add-transaction",exact:!0,component:R}),c.a.createElement(u.a,{path:"/",exact:!0,component:F}),c.a.createElement(u.a,{path:"/settings",exact:!0,component:A}),c.a.createElement(u.a,{path:"/set-currency",exact:!0,component:B}),c.a.createElement(u.a,{path:"/",exact:!0,component:w}))))};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(K,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.71df3a83.chunk.js.map